<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<title>Занятие по JS 8</title>
</head>
<body>
	<h1>Функции</h1>
Зачастую нам надо повторять одно и то же действие во многих частях программы.

Например, необходимо красиво вывести сообщение при приветствии посетителя, 
при выходе посетителя с сайта, ещё где-нибудь.
Чтобы не повторять один и тот же код во многих местах, придуманы функции. 
Функции являются основными «строительными блоками» программы.
Примеры встроенных функций вы уже видели – это alert(message), 
prompt(message, default) и confirm(question). Но можно создавать и свои.

<h2>Объявление функции</h2>

Для создания функций мы можем использовать объявление функции.
Пример объявления функции
function showMessage() {
  alert( 'Всем привет!' );
}

Вначале идёт ключевое слово function, после него имя функции, 
затем список параметров в круглых скобках через запятую 
(в вышеприведённом примере он пустой) и, наконец, код функции, 
также называемый «телом функции», внутри фигурных скобок.

function имя(параметры) {
  ...тело...
}

Наша новая функция может быть вызвана по её имени: showMessage().

Например:

function showMessage() {
  alert( 'Всем привет!' );
}

showMessage();
showMessage();

Этот пример явно демонстрирует одно из главных предназначений функций: 
избавление от дублирования кода.

<h2>Локальные переменные</h2>
Переменные, объявленные внутри функции, видны только внутри этой функции.

<h2>Внешние переменные </h2>
У функции есть доступ к внешним переменным, например:

Функция обладает полным доступом к внешним переменным и 
может изменять их значение.

<h2>Глобальные переменные</h2>
Переменные, объявленные снаружи всех функций, 
такие как внешняя переменная userName в вышеприведённом коде – 
называются глобальными.
Глобальные переменные видимы для любой функции 
(если только их не перекрывают одноимённые локальные переменные).
Желательно сводить использование глобальных переменных к минимуму. 
В современном коде обычно мало или совсем нет глобальных переменных. 
Хотя они иногда полезны для хранения важнейших «общепроектовых» данных.

<h2> Параметры</h2>
Мы можем передать внутрь функции любую информацию, используя параметры (также 
называемые аргументами функции).

Когда функция вызывается в строках (*) и (**), переданные значения копируются 
в локальные переменные from и text. Затем они используются в теле функции.

Вот ещё один пример: у нас есть переменная from, и мы передаём её функции. 
Обратите внимание: функция изменяет значение from, но это изменение не видно 
снаружи. 
Функция всегда получает только копию значения:

<h2>Параметры по умолчанию</h2>
	Если параметр не указан, то его значением становится undefined.

Это не приведёт к ошибке. Такой вызов выведет "Аня: undefined". В вызове не указан параметр text, 
поэтому предполагается, что text === undefined.
Если мы хотим задать параметру text значение по умолчанию, 
мы должны указать его после =:


function showMessage(from, text = "текст не добавлен") {
  alert( from + ": " + text );
}

showMessage("Аня"); // Аня: текст не добавлен

В данном случае "текст не добавлен" это строка, но на её месте могло 
бы быть и более сложное выражение, которое бы вычислялось и присваивалось 
при отсутствии параметра. 

<h2>Возврат значения</h2>
Функция может вернуть результат, который будет передан в вызвавший её код.
Простейшим примером может служить функция сложения двух чисел:

function sum(a, b) {
  return a + b;
}

let result = sum(1, 2);
alert( result ); // 3

Директива return может находиться в любом месте тела функции. 
Как только выполнение доходит до этого места, функция останавливается, 
и значение возвращается в вызвавший её код (присваивается переменной result 
выше).
Вызовов return может быть несколько

Возможно использовать return и без значения. Это приведёт к немедленному выходу из функции.

Выбор имени функции

Функции, начинающиеся с…

"get…" – возвращают значение,
"calc…" – что-то вычисляют,
"create…" – что-то создают,
"check…" – что-то проверяют и возвращают логическое значение, и т.д.

showMessage(..)     // показывает сообщение
getAge(..)          // возвращает возраст (в каком-либо значении)
calcSum(..)         // вычисляет сумму и возвращает результат
createForm(..)      // создаёт форму (и обычно возвращает её)
checkPermission(..) // проверяет доступ, возвращая true/false

Одна функция – одно действие

Функции == Комментарии

Функции должны быть короткими и делать только что-то одно. Если это что-то большое, 
имеет смысл разбить функцию на несколько меньших. 

Иногда следовать этому правилу непросто, но это определённо хорошее правило.

Небольшие функции не только облегчают тестирование и отладку –
само существование таких функций выполняет роль хороших комментариев!







	<script type="text/javascript" src="js/my9.js"> </script>
</body>
</html>